# WoodenOx-mysql
Plan Event script for mysql
# 简介
这是一个可以按照指定时间执行mysql任务的Python脚本，脚本由配置文件、主程序、日志三部分组成。
# 目的
主要面对的是对数据库结构进程操作的命令，比如创建表、删除字段等等这些敏感的操作、或者是为拥有数千万行数据的表建立索引这样耗费资源的工作，这样做的好处有：
  
  - 可定时在业务低峰期进行提交改动，避免了在访问高峰期时对数据库进行改动引起的性能问题。
  - 延迟提交、以SQL文件的方式进行提交，使管理员编写SQL语句时逻辑清晰、减少出错的可能
  - 在日志中可以清晰的查看到时间、具体语句等参数

# 运行环境
  mysql 5.1及更高的版本

# 功能
（功能2、3、4暂未实现）
1. SQL语句定时执行 
2. 将查询结果生成日志，日志的信息应该有：
   - 提交时间
   - 执行时间
   - 语句内容
   - MySQL返回信息
3. 查询已经提交的计划
4. 通过监控mysql，当mysql执行了event时、将影响的行数、是否执行成功、抛出的警告等信息记录在日志中（使用MySQL Enterprise Monitor？）

# 配置文档填写指南
  - 支持注释
      - 只接受单行注释，将注释接在代码后面可能引发异常或意料之外的错误
      - 注释格式为“#”开头的行（如：# 程序执行负责人:imdyc.com），程序会识别到并忽略此行。
